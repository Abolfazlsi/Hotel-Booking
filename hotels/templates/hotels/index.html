{% extends "base.html" %}
{% load static %}
{% load custom_filter %}

{% block main %}
    <!-- Hero Section -->
    <section id="home" class="hero-section d-flex align-items-center position-relative overflow-hidden" dir="rtl">
        <div class="position-absolute top-0 start-0 w-100 h-100 hero-overlay"></div>
        <div class="container position-relative custom-container hero-content">
            <div class="row justify-content-center">
                <div class="col-lg-8 text-center text-white" data-aos="fade-up">
                    <h1 class="hero-title">هتل سونا</h1>
                    <p class="hero-subtitle">تجربه‌ای لوکس و بی‌نظیر در قلب شهر</p>
                    <div class="d-flex justify-content-center gap-3 flex-wrap">
                        <a href="#booking" class="btn hero-btn-primary">
                            رزرو کنید
                        </a>
                        <a href="#about" class="btn hero-btn-secondary">
                            بیشتر بدانید
                        </a>
                    </div>
                </div>
            </div>
            <div class="position-absolute bottom-0 start-50 translate-middle-x mb-5">
                <a href="#about" class="text-white">
                    <i class="fas fa-chevron-down fs-4 hero-scroll-indicator"></i>
                </a>
            </div>
        </div>
        <!-- Floating Elements -->
        <div class="floating floating-element-1"></div>
        <div class="floating floating-element-2"></div>
        <div class="floating floating-element-3"></div>
    </section>

    <!-- Booking Form -->
    <section id="booking" class="py-5 position-relative" style="z-index: 20;" dir="rtl">
        <div class="container custom-container">
            <div class="row justify-content-center">
                <div class="col-lg-10">
                    <div class="booking-card bg-white p-4 p-md-5 shadow" data-aos="fade-up">
                        <h3 class="fs-4 fw-bold text-center mb-4 text-dark">رزرو اتاق</h3>
                        <form class="row g-3">
                            <div class="col-md-3 col-sm-6">
                                <label class="form-label text-dark">تاریخ ورود</label>
                                {{ search_form.check_in }}
                            </div>
                            <div class="col-md-3 col-sm-6">
                                <label class="form-label text-dark">تاریخ خروج</label>
                                {{ search_form.check_out }}
                            </div>
                            <div class="col-md-3 col-sm-6">
                                <label class="form-label text-dark">مهمان</label>
                                <div class="custom-dropdown">
                                    <div class="dropdown-toggle form-control rounded-3 py-3" id="guestDropdownToggle">
                                        <span class="guest-count">1 بزرگسال, 0 کودک</span>
                                        <i class="fas fa-chevron-down text-primary-custom"></i>
                                    </div>
                                    <div class="dropdown-menu" id="guestDropdownMenu">
                                        <div class="dropdown-item">
                                            <span style="margin-left: 1rem">بزرگسال</span>
                                            <div class="guest-counter">
                                                <button type="button"
                                                        class="btn btn-outline-primary btn-sm border-primary-custom text-primary-custom"
                                                        id="decrementAdult">
                                                    <i class="fas fa-minus"></i>
                                                </button>
                                                <span class="guest-number" id="adultNumber">1</span>
                                                <button type="button"
                                                        class="btn btn-outline-primary btn-sm border-primary-custom text-primary-custom"
                                                        id="incrementAdult">
                                                    <i class="fas fa-plus"></i>
                                                </button>
                                            </div>
                                        </div>
                                        <div class="dropdown-item">
                                            <span>کودک</span>
                                            <div class="guest-counter">
                                                <button type="button"
                                                        class="btn btn-outline-primary btn-sm border-primary-custom text-primary-custom"
                                                        id="decrementChild">
                                                    <i class="fas fa-minus"></i>
                                                </button>
                                                <span class="guest-number" id="childNumber">0</span>
                                                <button type="button"
                                                        class="btn btn-outline-primary btn-sm border-primary-custom text-primary-custom"
                                                        id="incrementChild">
                                                    <i class="fas fa-plus"></i>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                    <input type="hidden" name="adults" id="adultInput" value="1">
                                    <input type="hidden" name="children" id="childInput" value="0">
                                </div>
                            </div>
                            <div class="col-12">
                                <button type="submit" class="btn btn-gradient w-100 py-3 rounded-3 fw-semibold shadow">
                                    جستجوی اتاق
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section id="about" class="py-5 bg-light" dir="rtl">
        <div class="container custom-container">
            <div class="text-center mb-5" data-aos="fade-up">
                <h2 class="display-5 fw-bold text-dark mb-3">درباره هتل سونا</h2>
                <p class="text-muted fs-6 section-max-width">ما بیش از 20 سال تجربه در ارائه بهترین خدمات هتلداری
                    داریم</p>
            </div>
            <div class="row g-4">
                <div class="col-md-6" data-aos="fade-right">
                    <div class="bg-white p-4 p-md-5 rounded-4 shadow h-100">
                        <h4 class="fs-5 fw-bold text-dark mb-3">تاریخچه ما</h4>
                        <p class="text-muted mb-4">
                            هتل سونا از سال 2000 فعالیت خود را آغاز کرده و تا کنون میزبان هزاران مسافر از سراسر جهان
                            بوده است. ما همواره تلاش کرده‌ایم تا بالاترین استانداردهای کیفیت را در خدمات خود رعایت کنیم.
                        </p>
                        <ul class="list-unstyled">
                            <li class="d-flex align-items-center mb-3">
                                <div class="about-check-icon me-3">
                                    <i class="fas fa-check text-primary-custom"></i>
                                </div>
                                <span class="text-dark">بیش از 20 سال تجربه</span>
                            </li>
                            <li class="d-flex align-items-center mb-3">
                                <div class="about-check-icon me-3">
                                    <i class="fas fa-check text-primary-custom"></i>
                                </div>
                                <span class="text-dark">استانداردهای بین‌المللی</span>
                            </li>
                            <li class="d-flex align-items-center">
                                <div class="about-check-icon me-3">
                                    <i class="fas fa-check text-primary-custom"></i>
                                </div>
                                <span class="text-dark">خدمات 24 ساعته</span>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="col-md-6" data-aos="fade-left">
                    <div class="bg-white p-4 p-md-5 rounded-4 shadow h-100">
                        <h4 class="fs-5 fw-bold text-dark mb-3">ماموریت ما</h4>
                        <p class="text-muted mb-4">
                            ماموریت ما ارائه تجربه‌ای فراموش‌نشدنی و لوکس به مهمانان عزیز است. ما معتقدیم که هر مسافر
                            شایستگی بهترین خدمات و امکانات را دارد.
                        </p>
                        <div class="row g-4 mt-3">
                            <div class="col-6 text-center">
                                <div class="display-6 fw-bold text-primary-custom mb-2 counter" data-count="500">0</div>
                                <p class="text-muted small">مهمان راضی</p>
                            </div>
                            <div class="col-6 text-center">
                                <div class="display-6 fw-bold text-primary-custom mb-2 counter" data-count="50">0</div>
                                <p class="text-muted small">اتاق لوکس</p>
                            </div>
                            <div class="col-6 text-center">
                                <div class="display-6 fw-bold text-primary-custom mb-2 counter" data-count="30">0</div>
                                <p class="text-muted small">پرسنل متخصص</p>
                            </div>
                            <div class="col-6 text-center">
                                <div class="display-6 fw-bold text-primary-custom mb-2 counter" data-count="15">0</div>
                                <p class="text-muted small">جوایز بین‌المللی</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Services Section -->
    <section id="services" class="py-5 bg-white" dir="rtl">
        <div class="container custom-container">
            <div class="text-center mb-5" data-aos="fade-up">
                <h2 class="display-5 fw-bold text-dark mb-3">خدمات ما</h2>
                <p class="text-muted fs-6 section-max-width">مجموعه کاملی از خدمات برای راحتی شما</p>
            </div>
            <div class="row g-4">
                <div class="col-md-6 col-lg-4" data-aos="fade-up" data-aos-delay="100">
                    <div class="service-card bg-white p-4 p-md-5 rounded-4 shadow border h-100 text-center">
                        <div class="service-icon">
                            <i class="fas fa-wifi"></i>
                        </div>
                        <h4 class="fs-5 fw-bold text-dark mb-3">اینترنت رایگان</h4>
                        <p class="text-muted">اینترنت پرسرعت و رایگان در تمام قسمت‌های هتل</p>
                    </div>
                </div>
                <div class="col-md-6 col-lg-4" data-aos="fade-up" data-aos-delay="200">
                    <div class="service-card bg-white p-4 p-md-5 rounded-4 shadow border h-100 text-center">
                        <div class="service-icon">
                            <i class="fas fa-swimming-pool"></i>
                        </div>
                        <h4 class="fs-5 fw-bold text-dark mb-3">استخر</h4>
                        <p class="text-muted">استخر مدرن با آب گرم و سرد برای تفریح شما</p>
                    </div>
                </div>
                <div class="col-md-6 col-lg-4" data-aos="fade-up" data-aos-delay="300">
                    <div class="service-card bg-white p-4 p-md-5 rounded-4 shadow border h-100 text-center">
                        <div class="service-icon">
                            <i class="fas fa-dumbbell"></i>
                        </div>
                        <h4 class="fs-5 fw-bold text-dark mb-3">باشگاه ورزشی</h4>
                        <p class="text-muted">باشگاه ورزشی مجهز با جدیدترین تجهیزات</p>
                    </div>
                </div>
                <div class="col-md-6 col-lg-4" data-aos="fade-up" data-aos-delay="400">
                    <div class="service-card bg-white p-4 p-md-5 rounded-4 shadow border h-100 text-center">
                        <div class="service-icon">
                            <i class="fas fa-utensils"></i>
                        </div>
                        <h4 class="fs-5 fw-bold text-dark mb-3">رستوران</h4>
                        <p class="text-muted">رستوران با غذاهای محلی و بین‌المللی</p>
                    </div>
                </div>
                <div class="col-md-6 col-lg-4" data-aos="fade-up" data-aos-delay="500">
                    <div class="service-card bg-white p-4 p-md-5 rounded-4 shadow border h-100 text-center">
                        <div class="service-icon">
                            <i class="fas fa-car"></i>
                        </div>
                        <h4 class="fs-5 fw-bold text-dark mb-3">پارکینگ</h4>
                        <p class="text-muted">پارکینگ امن و رایگان برای مهمانان</p>
                    </div>
                </div>
                <div class="col-md-6 col-lg-4" data-aos="fade-up" data-aos-delay="600">
                    <div class="service-card bg-white p-4 p-md-5 rounded-4 shadow border h-100 text-center">
                        <div class="service-icon">
                            <i class="fas fa-concierge-bell"></i>
                        </div>
                        <h4 class="fs-5 fw-bold text-dark mb-3">خدمات اتاق</h4>
                        <p class="text-muted">خدمات اتاق 24 ساعته برای راحتی شما</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Rooms Section -->
    <section id="rooms" class="py-5 bg-light" dir="rtl">
        <div class="container custom-container">
            <div class="text-center mb-5" data-aos="fade-up">
                <h2 class="display-5 fw-bold text-dark mb-3">اتاق‌های ما</h2>
                <p class="text-muted fs-6 section-max-width">اتاق‌های لوکس و متنوع برای هر نوع اقامت</p>
            </div>
            <div class="swiper rooms-slider" data-aos="fade-up" data-aos-delay="100">
                <div class="swiper-wrapper">
                    <!-- Room 1 -->
                    {% for room in rooms_list %}
                        <div class="swiper-slide" style="width: 350px;">
                            <div class="room-card bg-white shadow h-100">
                                <div class="room-image index">
                                    <img src="{{ room.image_url }}" alt="{{ room.alt_text }}">
                                    <div class="room-overlay"></div>
                                    <div class="room-price-badge">{{ room.price|intcomma }} تومان</div>
                                </div>
                                <div class="p-4">
                                    <h4 class="fs-5 fw-bold text-dark mb-2">{{ room.title }}</h4>
                                    <!-- بخش امتیازات -->
                                    <div class="d-flex align-items-center mb-3">
                                        <div class="text-warning me-2">
                                            {% for i in "12345"|make_list %}
                                                <i class="fas fa-star{% if forloop.counter > room.rating|floatformat:0 %}-o{% endif %}"></i>
                                            {% endfor %}
                                        </div>
                                        <span class="text-muted small">({{ room.rating|floatformat:1 }} از 5)</span>
                                    </div>
                                    <!-- بخش ظرفیت -->
                                    <div class="d-flex align-items-center mb-3">
                                        <i class="fas fa-users me-2" style="color: var(--primary-color);"></i>
                                        <span class="text-dark fw-medium">ظرفیت: {{ room.capacity }} نفر</span>
                                    </div>
                                    <p class="text-muted small mb-3">{{ room.description|truncatewords:20 }}</p>
                                    <div class="d-flex justify-content-between align-items-center">
                                        <a href="{{ room.url }}" class="btn btn-gradient btn-sm rounded-3 fw-medium">جزئیات</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    {% endfor %}
                </div>
                <!-- Navigation and Pagination -->
                <div class="swiper-button-next"></div>
                <div class="swiper-button-prev"></div>
                <div class="swiper-pagination"></div>
            </div>
        </div>
    </section>

    <!-- Blog Section -->
    <section id="blog" class="py-5 bg-white" dir="rtl">
        <div class="container custom-container">
            <div class="text-center mb-5" data-aos="fade-up">
                <h2 class="display-5 fw-bold text-dark mb-3">وبلاگ هتل</h2>
                <p class="text-muted fs-6 section-max-width">آخرین اخبار، راهنماها و تجربیات سفر</p>
            </div>
            <!-- Blog Filter -->
            <div class="d-flex justify-content-center mb-5" data-aos="fade-up" data-aos-delay="100">
                <div class="d-flex flex-wrap justify-content-center">
                    <button class="blog-filter-btn active" data-category="all">همه مطالب</button>
                    <button class="blog-filter-btn" data-category="travel">راهنمای سفر</button>
                    <button class="blog-filter-btn" data-category="hotel">اخبار هتل</button>
                    <button class="blog-filter-btn" data-category="food">غذا و نوشیدنی</button>
                    <button class="blog-filter-btn" data-category="events">رویدادها</button>
                </div>
            </div>
            <div class="row g-4">
                <!-- Blog Post 1 -->
                <div class="col-md-6 col-lg-4 blog-post" data-aos="fade-up" data-aos-delay="200" data-category="travel">
                    <div class="bg-white rounded-4 overflow-hidden shadow border h-100">
                        <div class="blog-image">
                            <img src="https://images.unsplash.com/photo-1518391846015-55a9cc003b25?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80"
                                 alt="راهنمای کامل سفر به تهران در زمستان">
                            <div class="blog-date-badge">۱۵ آذر ۱۴۰۳</div>
                            <div class="blog-category-badge">راهنمای سفر</div>
                        </div>
                        <div class="p-4">
                            <h4 class="fs-5 fw-bold text-dark mb-3 blog-title">راهنمای کامل سفر به تهران در زمستان</h4>
                            <p class="text-muted small mb-3">
                                تهران در فصل زمستان جذابیت‌های خاص خود را دارد. از کوه‌های برفی تا بازارهای گرم و
                                دلنشین، همه چیز برای یک سفر فوق‌العاده آماده است.
                            </p>
                            <div class="d-flex justify-content-between align-items-center pt-3 border-top">
                                <div class="d-flex align-items-center text-muted small">
                                    <i class="fas fa-user text-primary-custom me-1"></i>
                                    <span>احمد محمدی</span>
                                </div>
                                <div class="d-flex gap-3">
                                    <span class="d-flex align-items-center text-muted small">
                                        <i class="fas fa-eye text-primary-custom me-1"></i>
                                        ۱۲۳
                                    </span>
                                    <span class="d-flex align-items-center text-muted small">
                                        <i class="fas fa-heart text-primary-custom me-1"></i>
                                        ۴۵
                                    </span>
                                </div>
                            </div>
                            <a href="#"
                               class="btn btn-outline-primary btn-sm rounded-3 fw-medium mt-3 border-primary-custom text-primary-custom">
                                ادامه مطلب
                            </a>
                        </div>
                    </div>
                </div>
                <!-- Blog Post 2 -->
                <div class="col-md-6 col-lg-4 blog-post" data-aos="fade-up" data-aos-delay="300" data-category="hotel">
                    <div class="bg-white rounded-4 overflow-hidden shadow border h-100">
                        <div class="blog-image">
                            <img src="https://images.unsplash.com/photo-1566073771259-6a8506099945?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80"
                                 alt="بازسازی و نوسازی لابی هتل سونا">
                            <div class="blog-date-badge">۱۰ آذر ۱۴۰۳</div>
                            <div class="blog-category-badge">اخبار هتل</div>
                        </div>
                        <div class="p-4">
                            <h4 class="fs-5 fw-bold text-dark mb-3 blog-title">بازسازی و نوسازی لابی هتل سونا</h4>
                            <p class="text-muted small mb-3">
                                با افتخار اعلام می‌کنیم که لابی هتل سونا با طراحی مدرن و امکانات جدید بازسازی شده است.
                                فضایی دلنشین و لوکس در انتظار شماست.
                            </p>
                            <div class="d-flex justify-content-between align-items-center pt-3 border-top">
                                <div class="d-flex align-items-center text-muted small">
                                    <i class="fas fa-user text-primary-custom me-1"></i>
                                    <span>مدیریت هتل</span>
                                </div>
                                <div class="d-flex gap-3">
                                    <span class="d-flex align-items-center text-muted small">
                                        <i class="fas fa-eye text-primary-custom me-1"></i>
                                        ۲۸۹
                                    </span>
                                    <span class="d-flex align-items-center text-muted small">
                                        <i class="fas fa-heart text-primary-custom me-1"></i>
                                        ۸۷
                                    </span>
                                </div>
                            </div>
                            <a href="#"
                               class="btn btn-outline-primary btn-sm rounded-3 fw-medium mt-3 border-primary-custom text-primary-custom">
                                ادامه مطلب
                            </a>
                        </div>
                    </div>
                </div>
                <!-- Blog Post 3 -->
                <div class="col-md-6 col-lg-4 blog-post" data-aos="fade-up" data-aos-delay="400" data-category="food">
                    <div class="bg-white rounded-4 overflow-hidden shadow border h-100">
                        <div class="blog-image">
                            <img src="https://images.unsplash.com/photo-1414235077428-338989a2e8c0?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80"
                                 alt="منوی جدید رستوران هتل سونا">
                            <div class="blog-date-badge">۵ آذر ۱۴۰۳</div>
                            <div class="blog-category-badge">غذا و نوشیدنی</div>
                        </div>
                        <div class="p-4">
                            <h4 class="fs-5 fw-bold text-dark mb-3 blog-title">منوی جدید رستوران هتل سونا</h4>
                            <p class="text-muted small mb-3">
                                رستوران هتل سونا منوی جدید خود را با غذاهای محلی و بین‌المللی ارائه می‌دهد. از کباب‌های
                                اصیل ایرانی تا پاستاهای ایتالیایی.
                            </p>
                            <div class="d-flex justify-content-between align-items-center pt-3 border-top">
                                <div class="d-flex align-items-center text-muted small">
                                    <i class="fas fa-user text-primary-custom me-1"></i>
                                    <span>سرآشپز رستوران</span>
                                </div>
                                <div class="d-flex gap-3">
                                    <span class="d-flex align-items-center text-muted small">
                                        <i class="fas fa-eye text-primary-custom me-1"></i>
                                        ۱۹۶
                                    </span>
                                    <span class="d-flex align-items-center text-muted small">
                                        <i class="fas fa-heart text-primary-custom me-1"></i>
                                        ۶۳
                                    </span>
                                </div>
                            </div>
                            <a href="#"
                               class="btn btn-outline-primary btn-sm rounded-3 fw-medium mt-3 border-primary-custom text-primary-custom">
                                ادامه مطلب
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Load More Button -->
            <div class="text-center mt-5" data-aos="fade-up">
                <button class="btn btn-outline-primary btn-lg rounded-pill fw-semibold border-primary-custom text-primary-custom px-5 py-3">
                    <i class="fas fa-plus me-2"></i> مطالب بیشتر
                </button>
            </div>
        </div>
    </section>

    <!-- Testimonials Section -->
    <section id="testimonials" class="py-5 bg-dark-custom text-white" dir="rtl">
        <div class="container custom-container">
            <div class="text-center mb-5" data-aos="fade-up">
                <h2 class="display-5 fw-bold mb-3">نظرات مهمانان</h2>
                <p class="text-light fs-6 section-max-width footer-text-muted">آنچه مهمانان ما درباره هتل سونا
                    می‌گویند</p>
            </div>
            <div class="swiper testimonials-slider" data-aos="fade-up" data-aos-delay="100">
                <div class="swiper-wrapper">
                    <!-- Testimonial 1 -->
                    <div class="swiper-slide">
                        <div class="testimonial-card p-4 p-md-5 h-100">
                            <div class="testimonial-avatar">
                                <i class="fas fa-user fs-4"></i>
                            </div>
                            <div class="text-warning text-center mb-4">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                            </div>
                            <p class="text-light text-center mb-4 footer-text-muted">
                                "تجربه فوق‌العاده‌ای داشتم. خدمات عالی و امکانات بی‌نظیر. حتماً دوباره خواهم آمد."
                            </p>
                            <h5 class="fs-5 fw-bold text-center mb-1">احمد محمدی</h5>
                            <p class="text-light text-center small footer-text-light">مهمان VIP</p>
                        </div>
                    </div>
                    <!-- Testimonial 2 -->
                    <div class="swiper-slide">
                        <div class="testimonial-card p-4 p-md-5 h-100">
                            <div class="testimonial-avatar">
                                <i class="fas fa-user fs-4"></i>
                            </div>
                            <div class="text-warning text-center mb-4">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                            </div>
                            <p class="text-light text-center mb-4 footer-text-muted">
                                "هتلی با کیفیت بالا و پرسنل مهربان. اتاق‌ها تمیز و مجهز بودند."
                            </p>
                            <h5 class="fs-5 fw-bold text-center mb-1">فاطمه احمدی</h5>
                            <p class="text-light text-center small footer-text-light">مسافر کسب و کار</p>
                        </div>
                    </div>
                    <!-- Testimonial 3 -->
                    <div class="swiper-slide">
                        <div class="testimonial-card p-4 p-md-5 h-100">
                            <div class="testimonial-avatar">
                                <i class="fas fa-user fs-4"></i>
                            </div>
                            <div class="text-warning text-center mb-4">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                            </div>
                            <p class="text-light text-center mb-4 footer-text-muted">
                                "بهترین هتلی که تا حالا در آن اقامت کرده‌ام. همه چیز فوق‌العاده بود."
                            </p>
                            <h5 class="fs-5 fw-bold text-center mb-1">علی رضایی</h5>
                            <p class="text-light text-center small footer-text-light">مسافر خانوادگی</p>
                        </div>
                    </div>
                    <!-- Testimonial 4 -->
                    <div class="swiper-slide">
                        <div class="testimonial-card p-4 p-md-5 h-100">
                            <div class="testimonial-avatar">
                                <i class="fas fa-user fs-4"></i>
                            </div>
                            <div class="text-warning text-center mb-4">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star-half-alt"></i>
                            </div>
                            <p class="text-light text-center mb-4 footer-text-muted">
                                "خدمات عالی و پرسنل حرفه‌ای. فقط قیمت‌ها کمی بالا بود اما ارزشش را داشت."
                            </p>
                            <h5 class="fs-5 fw-bold text-center mb-1">مریم حسینی</h5>
                            <p class="text-light text-center small footer-text-light">مسافر تفریحی</p>
                        </div>
                    </div>
                </div>
                <!-- Navigation and Pagination -->
                <div class="swiper-button-next"></div>
                <div class="swiper-button-prev"></div>
                <div class="swiper-pagination"></div>
            </div>
        </div>
    </section>
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const dropdownToggle = document.getElementById('guestDropdownToggle');
            const dropdownMenu = document.getElementById('guestDropdownMenu');
            const adultNumber = document.getElementById('adultNumber');
            const childNumber = document.getElementById('childNumber');
            const adultInput = document.getElementById('adultInput');
            const childInput = document.getElementById('childInput');
            const guestCountDisplay = document.querySelector('.guest-count');
            const incrementAdultBtn = document.getElementById('incrementAdult');
            const decrementAdultBtn = document.getElementById('decrementAdult');
            const incrementChildBtn = document.getElementById('incrementChild');
            const decrementChildBtn = document.getElementById('decrementChild');

            let adultCount = 1;
            let childCount = 0;

            // به‌روزرسانی نمایش تعداد مهمان
            function updateGuestDisplay() {
                guestCountDisplay.textContent = `${adultCount} بزرگسال, ${childCount} کودک`;
                adultInput.value = adultCount;
                childInput.value = childCount;
                adultNumber.textContent = adultCount;
                childNumber.textContent = childCount;
            }

            // باز و بسته کردن دراپ‌داون
            dropdownToggle.addEventListener('click', function () {
                dropdownMenu.classList.toggle('show');
            });

            // بستن دراپ‌داون با کلیک خارج از آن
            document.addEventListener('click', function (event) {
                if (!dropdownToggle.contains(event.target) && !dropdownMenu.contains(event.target)) {
                    dropdownMenu.classList.remove('show');
                }
            });

            // افزایش تعداد بزرگسال
            incrementAdultBtn.addEventListener('click', function () {
                if (adultCount < 4) { // حداکثر تعداد بزرگسال
                    adultCount++;
                    updateGuestDisplay();
                }
            });

            // کاهش تعداد بزرگسال
            decrementAdultBtn.addEventListener('click', function () {
                if (adultCount > 1) { // حداقل تعداد بزرگسال
                    adultCount--;
                    updateGuestDisplay();
                }
            });

            // افزایش تعداد کودک
            incrementChildBtn.addEventListener('click', function () {
                if (childCount < 4) { // حداکثر تعداد کودک
                    childCount++;
                    updateGuestDisplay();
                }
            });

            // کاهش تعداد کودک
            decrementChildBtn.addEventListener('click', function () {
                if (childCount > 0) { // حداقل تعداد کودک
                    childCount--;
                    updateGuestDisplay();
                }
            });

            // فعال‌سازی تقویم شمسی
            jalaliDatepicker.startWatch({
                minDate: 'today',
            });

            // مقداردهی اولیه نمایش
            updateGuestDisplay();
        });

        // Initialize AOS
        AOS.init({
            duration: 1000,
            once: true,
            offset: 100,
        });
        // Initialize Swiper Sliders
        const roomsSwiper = new Swiper(".rooms-slider", {
            slidesPerView: 1,
            spaceBetween: 20,
            grabCursor: true,
            loop: true,
            autoplay: {
                delay: 5000,
                disableOnInteraction: false,
            },
            navigation: {
                nextEl: ".rooms-slider .swiper-button-next",
                prevEl: ".rooms-slider .swiper-button-prev",
            },
            pagination: {
                el: ".rooms-slider .swiper-pagination",
                clickable: true,
            },
            breakpoints: {
                640: {
                    slidesPerView: 2,
                },
                1024: {
                    slidesPerView: 3,
                },
            },
        });

        const testimonialsSwiper = new Swiper(".testimonials-slider", {
            slidesPerView: 1,
            spaceBetween: 20,
            centeredSlides: true,
            grabCursor: true,
            loop: true,
            autoplay: {
                delay: 5000,
                disableOnInteraction: false,
            },
            navigation: {
                nextEl: ".testimonials-slider .swiper-button-next",
                prevEl: ".testimonials-slider .swiper-button-prev",
            },
            pagination: {
                el: ".testimonials-slider .swiper-pagination",
                clickable: true,
            },
            breakpoints: {
                768: {
                    slidesPerView: 2,
                    centeredSlides: false,
                },
                1024: {
                    slidesPerView: 3,
                    centeredSlides: true,
                },
            },
        });

        // Counter Animation
        const counters = document.querySelectorAll(".counter");
        const speed = 200;

        function animateCounters() {
            counters.forEach(counter => {
                const target = +counter.getAttribute("data-count");
                const count = +counter.innerText;
                const increment = target / speed;

                if (count < target) {
                    counter.innerText = Math.ceil(count + increment);
                    setTimeout(animateCounters, 1);
                } else {
                    counter.innerText = target + "+";
                }
            });
        }

        // Intersection Observer for Counters
        const counterObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    animateCounters();
                    counterObserver.unobserve(entry.target);
                }
            });
        }, {threshold: 0.5});

        counters.forEach(counter => {
            counterObserver.observe(counter);
        });

        // Blog Filter
        const filterButtons = document.querySelectorAll(".blog-filter-btn");
        const blogPosts = document.querySelectorAll(".blog-post");

        filterButtons.forEach(button => {
            button.addEventListener("click", function () {
                filterButtons.forEach(btn => {
                    btn.classList.remove("active");
                });

                this.classList.add("active");

                const category = this.getAttribute("data-category");

                blogPosts.forEach(post => {
                    const postCategory = post.getAttribute("data-category");
                    if (category === "all" || postCategory === category) {
                        post.style.display = "block";
                    } else {
                        post.style.display = "none";
                    }
                });
            });
        });
    </script>
{% endblock %}